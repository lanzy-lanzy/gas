<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In - Prycegas Station</title>
    
    <!-- TailwindCSS CDN with custom configuration -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'prycegas-black': '#1a1a1a',
                        'prycegas-orange': '#ff6b35',
                        'prycegas-orange-light': '#ff8c5a',
                        'prycegas-orange-dark': '#e55a2b',
                        'prycegas-gray': '#2d2d2d',
                        'prycegas-gray-light': '#404040',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-in-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(50px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom styles -->
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #ff6b35 100%);
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .input-focus:focus {
            border-color: #ff6b35;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }
        
        .floating-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }
        
        .floating-shapes::before,
        .floating-shapes::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 107, 53, 0.1);
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-shapes::before {
            width: 300px;
            height: 300px;
            top: -150px;
            right: -150px;
            animation-delay: 0s;
        }
        
        .floating-shapes::after {
            width: 200px;
            height: 200px;
            bottom: -100px;
            left: -100px;
            animation-delay: -3s;
        }
    </style>
</head>
<body class="h-full gradient-bg" x-data="loginPage()">
    <div class="floating-shapes"></div>
    
    <div class="min-h-screen flex">
        <!-- Left side - Branding -->
        <div class="hidden lg:flex lg:w-1/2 relative items-center justify-center p-12">
            <div class="max-w-md text-center text-white animate-fade-in">
                    <div class="w-20 h-20 bg-prycegas-orange rounded-2xl flex items-center justify-center mx-auto mb-8 animate-float">
                        <img src="{% static 'images/gas.png' %}" alt="LPG Tank" class="w-10 h-10 object-contain">
                    </div>
                <h1 class="text-4xl font-bold mb-4">Welcome Back!</h1>
                <p class="text-xl text-gray-300 mb-8">
                    Sign in to access your Prycegas Station dashboard and manage your gas station operations efficiently.
                </p>
                <div class="space-y-4 text-left">
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-prycegas-orange mr-3"></i>
                        <span>Real-time analytics and reporting</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-prycegas-orange mr-3"></i>
                        <span>Inventory management system</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-prycegas-orange mr-3"></i>
                        <span>Mobile-first responsive design</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Right side - Login form -->
        <div class="flex-1 flex items-center justify-center p-8 lg:p-12 relative z-10">
            <div class="w-full max-w-md">
                <!-- Back to home link -->
                <div class="mb-8">
                    <a href="/" class="inline-flex items-center text-white hover:text-prycegas-orange-light transition-colors">
                        <i class="fas fa-arrow-left mr-2"></i>
                        Back to Home
                    </a>
                </div>
                
                <!-- Login form card -->
                <div class="glass rounded-3xl p-8 animate-slide-up">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 bg-prycegas-orange rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-sign-in-alt text-2xl text-white"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-white mb-2">Sign In</h2>
                        <p class="text-gray-300">Access your dashboard</p>
                    </div>

                    <!-- Display messages -->
                    {% if messages %}
                        <div class="space-y-2 mb-6">
                            {% for message in messages %}
                                <div class="rounded-xl p-4 {% if message.tags == 'error' %}bg-red-500 bg-opacity-20 border border-red-500 border-opacity-30{% elif message.tags == 'success' %}bg-green-500 bg-opacity-20 border border-green-500 border-opacity-30{% else %}bg-blue-500 bg-opacity-20 border border-blue-500 border-opacity-30{% endif %}">
                                    <div class="flex items-center">
                                        <div class="flex-shrink-0">
                                            {% if message.tags == 'error' %}
                                                <i class="fas fa-exclamation-circle text-red-400"></i>
                                            {% elif message.tags == 'success' %}
                                                <i class="fas fa-check-circle text-green-400"></i>
                                            {% else %}
                                                <i class="fas fa-info-circle text-blue-400"></i>
                                            {% endif %}
                                        </div>
                                        <div class="ml-3">
                                            <p class="text-sm text-white">{{ message }}</p>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    {% endif %}

                    <form method="post" @submit="handleSubmit" class="space-y-6">
                        {% csrf_token %}
                        
                        <!-- Username field -->
                        <div>
                            <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-white mb-2">
                                <i class="fas fa-user mr-2"></i>Username
                            </label>
                            <input type="text" 
                                   name="{{ form.username.name }}" 
                                   id="{{ form.username.id_for_label }}"
                                   class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl text-white placeholder-gray-300 input-focus transition-all duration-300"
                                   placeholder="Enter your username"
                                   required>
                            {% if form.username.errors %}
                                <div class="mt-2 text-sm text-red-400">
                                    {% for error in form.username.errors %}
                                        <p><i class="fas fa-exclamation-triangle mr-1"></i>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        <!-- Password field -->
                        <div>
                            <label for="{{ form.password.id_for_label }}" class="block text-sm font-medium text-white mb-2">
                                <i class="fas fa-lock mr-2"></i>Password
                            </label>
                            <div class="relative">
                                <input :type="showPassword ? 'text' : 'password'" 
                                       name="{{ form.password.name }}" 
                                       id="{{ form.password.id_for_label }}"
                                       class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl text-white placeholder-gray-300 input-focus transition-all duration-300 pr-12"
                                       placeholder="Enter your password"
                                       required>
                                <button type="button" 
                                        @click="showPassword = !showPassword"
                                        class="absolute inset-y-0 right-0 pr-4 flex items-center text-gray-300 hover:text-white transition-colors">
                                    <i :class="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                                </button>
                            </div>
                            {% if form.password.errors %}
                                <div class="mt-2 text-sm text-red-400">
                                    {% for error in form.password.errors %}
                                        <p><i class="fas fa-exclamation-triangle mr-1"></i>{{ error }}</p>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        <!-- Remember me and forgot password -->
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="remember-me" name="remember-me" type="checkbox" 
                                       class="h-4 w-4 text-prycegas-orange focus:ring-prycegas-orange border-gray-300 rounded bg-white bg-opacity-10">
                                <label for="remember-me" class="ml-2 block text-sm text-white">
                                    Remember me
                                </label>
                            </div>
                            <div class="text-sm">
                                <a href="#" class="font-medium text-prycegas-orange hover:text-prycegas-orange-light transition-colors">
                                    Forgot password?
                                </a>
                            </div>
                        </div>

                        <!-- Submit button -->
                        <button type="submit" 
                                :disabled="isSubmitting"
                                :class="isSubmitting ? 'bg-gray-500 cursor-not-allowed' : 'bg-prycegas-orange hover:bg-prycegas-orange-dark'"
                                class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-xl text-white font-semibold transition-all duration-300 hover:scale-105 shadow-lg">
                            <i x-show="!isSubmitting" class="fas fa-sign-in-alt mr-2"></i>
                            <svg x-show="isSubmitting" class="animate-spin h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            <span x-text="isSubmitting ? 'Signing in...' : 'Sign In'"></span>
                        </button>

                        <!-- Register link -->
                        <div class="text-center">
                            <p class="text-gray-300">
                                Don't have an account?
                                <a href="/register/" class="font-medium text-prycegas-orange hover:text-prycegas-orange-light transition-colors">
                                    Create one here
                                </a>
                            </p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        function loginPage() {
            return {
                showPassword: false,
                isSubmitting: false,
                
                handleSubmit(event) {
                    const username = document.getElementById('{{ form.username.id_for_label }}').value.trim();
                    const password = document.getElementById('{{ form.password.id_for_label }}').value;

                    if (!username || !password) {
                        event.preventDefault();
                        alert('Please enter both username and password.');
                        return;
                    }

                    this.isSubmitting = true;
                }
            }
        }
    </script>
</body>
</html>
